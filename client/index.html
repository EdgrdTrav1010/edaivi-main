<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EdAiVi Studio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>EdAiVi Studio</h1>
                    <p class="tagline">AI-powered multimedia platform</p>
                </div>
                <nav>
                    <ul>
                        <li><a href="#features">Возможности</a></li>
                        <li><a href="#ai-models">AI Модели</a></li>
                        <li><a href="#api">API</a></li>
                        <li><a href="#contact">Контакты</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons">
                    <button id="login-btn" class="btn btn-outline">Войти</button>
                    <button id="register-btn" class="btn btn-primary">Регистрация</button>
                </div>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h2>Создавайте контент нового поколения с помощью ИИ</h2>
                <p>EdAiVi Studio — это комплексная платформа для создания, редактирования и публикации аудио, видео и 3D контента с использованием искусственного интеллекта.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-large">Начать бесплатно</button>
                    <button class="btn btn-outline btn-large">Демо</button>
                </div>
            </div>
        </div>
    </section>

    <section id="features" class="features">
        <div class="container">
            <h2 class="section-title">Возможности платформы</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🎵</div>
                    <h3>Аудио продакшн</h3>
                    <p>Создавайте, редактируйте и улучшайте аудио с помощью инструментов на базе ИИ</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🎬</div>
                    <h3>Видео продакшн</h3>
                    <p>Редактируйте видео с помощью ИИ и применяйте продвинутые эффекты</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">👤</div>
                    <h3>3D Аватары</h3>
                    <p>Создавайте и настраивайте 3D аватары для различных приложений</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🌍</div>
                    <h3>3D Сцены</h3>
                    <p>Создавайте иммерсивные 3D окружения и сцены</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📡</div>
                    <h3>Стриминг</h3>
                    <p>Транслируйте свой контент с интерактивными функциями</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🤖</div>
                    <h3>ИИ инструменты</h3>
                    <p>Используйте различные модели ИИ для генерации и улучшения контента</p>
                </div>
            </div>
        </div>
    </section>

    <section id="ai-models" class="ai-models">
        <div class="container">
            <h2 class="section-title">AI Модели</h2>
            <div class="models-container">
                <div class="model-card">
                    <div class="model-header">
                        <h3>TextGen Basic</h3>
                        <span class="model-badge">Текст</span>
                    </div>
                    <p>Базовая модель генерации текста для общего использования</p>
                    <div class="model-stats">
                        <div class="stat">
                            <span class="stat-label">Кредиты</span>
                            <span class="stat-value">1</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Время</span>
                            <span class="stat-value">~2с</span>
                        </div>
                    </div>
                    <button class="btn btn-outline btn-full">Попробовать</button>
                </div>
                <div class="model-card">
                    <div class="model-header">
                        <h3>ImageGen Basic</h3>
                        <span class="model-badge">Изображения</span>
                    </div>
                    <p>Базовая модель генерации изображений из текстовых описаний</p>
                    <div class="model-stats">
                        <div class="stat">
                            <span class="stat-label">Кредиты</span>
                            <span class="stat-value">2</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Время</span>
                            <span class="stat-value">~5с</span>
                        </div>
                    </div>
                    <button class="btn btn-outline btn-full">Попробовать</button>
                </div>
                <div class="model-card">
                    <div class="model-header">
                        <h3>TTS Basic</h3>
                        <span class="model-badge">Аудио</span>
                    </div>
                    <p>Базовая модель преобразования текста в естественную речь</p>
                    <div class="model-stats">
                        <div class="stat">
                            <span class="stat-label">Кредиты</span>
                            <span class="stat-value">1</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Время</span>
                            <span class="stat-value">~3с</span>
                        </div>
                    </div>
                    <button class="btn btn-outline btn-full">Попробовать</button>
                </div>
            </div>
        </div>
    </section>

    <section id="api" class="api">
        <div class="container">
            <h2 class="section-title">API</h2>
            <div class="api-content">
                <div class="api-info">
                    <p>EdAiVi Studio предоставляет полнофункциональный API для интеграции с вашими приложениями.</p>
                    <ul class="api-features">
                        <li>RESTful API для всех функций платформы</li>
                        <li>WebSocket для реального времени</li>
                        <li>Документация и SDK</li>
                        <li>Примеры интеграции</li>
                    </ul>
                    <button class="btn btn-primary">API Документация</button>
                </div>
                <div class="api-example">
                    <pre><code>// Пример запроса к API
fetch('https://api.edaivi.com/ai/generate/text', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_API_KEY'
  },
  body: JSON.stringify({
    modelId: 'text-gen-basic',
    prompt: 'Напиши короткую историю о космическом путешествии',
    parameters: {
      temperature: 0.7,
      maxTokens: 256
    }
  })
})
.then(response => response.json())
.then(data => console.log(data));</code></pre>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title">Свяжитесь с нами</h2>
            <div class="contact-content">
                <div class="contact-form">
                    <form id="contact-form">
                        <div class="form-group">
                            <label for="name">Имя</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Сообщение</label>
                            <textarea id="message" name="message" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary btn-full">Отправить</button>
                    </form>
                </div>
                <div class="contact-info">
                    <div class="contact-item">
                        <h3>Email</h3>
                        <p>info@edaivi.com</p>
                    </div>
                    <div class="contact-item">
                        <h3>Телефон</h3>
                        <p>+7 (999) 123-45-67</p>
                    </div>
                    <div class="contact-item">
                        <h3>Адрес</h3>
                        <p>Москва, ул. Примерная, д. 123</p>
                    </div>
                    <div class="social-links">
                        <a href="#" class="social-link">Twitter</a>
                        <a href="#" class="social-link">Facebook</a>
                        <a href="#" class="social-link">Instagram</a>
                        <a href="#" class="social-link">GitHub</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>EdAiVi Studio</h2>
                    <p>AI-powered multimedia platform</p>
                </div>
                <div class="footer-links">
                    <div class="footer-links-column">
                        <h3>Продукт</h3>
                        <ul>
                            <li><a href="#">Возможности</a></li>
                            <li><a href="#">Цены</a></li>
                            <li><a href="#">FAQ</a></li>
                        </ul>
                    </div>
                    <div class="footer-links-column">
                        <h3>Компания</h3>
                        <ul>
                            <li><a href="#">О нас</a></li>
                            <li><a href="#">Блог</a></li>
                            <li><a href="#">Карьера</a></li>
                        </ul>
                    </div>
                    <div class="footer-links-column">
                        <h3>Ресурсы</h3>
                        <ul>
                            <li><a href="#">Документация</a></li>
                            <li><a href="#">Туториалы</a></li>
                            <li><a href="#">API</a></li>
                        </ul>
                    </div>
                    <div class="footer-links-column">
                        <h3>Правовая информация</h3>
                        <ul>
                            <li><a href="#">Условия использования</a></li>
                            <li><a href="#">Политика конфиденциальности</a></li>
                            <li><a href="#">Cookies</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 EdAiVi Studio. Все права защищены. <a href="#" id="dev-login-link" class="dev-login-link">Вход для разработчика</a></p>
            </div>
        </div>
    </footer>

    <!-- Auth Modals -->
    <!-- Hidden Developer Login Modal -->
    <div id="dev-login-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Вход для разработчика</h2>
            <form id="dev-login-form">
                <div class="form-group">
                    <label for="dev-login-email">Email</label>
                    <input type="email" id="dev-login-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="dev-login-password">Пароль</label>
                    <input type="password" id="dev-login-password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="dev-key">Ключ разработчика</label>
                    <input type="password" id="dev-key" name="devKey" required>
                </div>
                <button type="submit" class="btn btn-primary btn-full">Войти как разработчик</button>
            </form>
        </div>
    </div>
    
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Вход в систему</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Пароль</label>
                    <input type="password" id="login-password" name="password" required>
                </div>
                <div class="form-group form-checkbox">
                    <input type="checkbox" id="remember-me" name="remember">
                    <label for="remember-me">Запомнить меня</label>
                </div>
                <button type="submit" class="btn btn-primary btn-full">Войти</button>
            </form>
            <div class="modal-footer">
                <p>Нет аккаунта? <a href="#" id="show-register">Зарегистрироваться</a></p>
                <p><a href="#" id="forgot-password">Забыли пароль?</a></p>
            </div>
        </div>
    </div>

    <div id="register-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Регистрация</h2>
            <form id="register-form">
                <div class="form-group">
                    <label for="register-name">Имя</label>
                    <input type="text" id="register-name" name="displayName" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">Пароль</label>
                    <input type="password" id="register-password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="register-password-confirm">Подтвердите пароль</label>
                    <input type="password" id="register-password-confirm" name="passwordConfirm" required>
                </div>
                <div class="form-group form-checkbox">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms">Я согласен с <a href="#">условиями использования</a> и <a href="#">политикой конфиденциальности</a></label>
                </div>
                <button type="submit" class="btn btn-primary btn-full">Зарегистрироваться</button>
            </form>
            <div class="modal-footer">
                <p>Уже есть аккаунт? <a href="#" id="show-login">Войти</a></p>
            </div>
        </div>
    </div>

    <script>
        // API URL
        const API_URL = 'http://localhost:8080/api';
        
        // Auth token
        let authToken = localStorage.getItem('authToken');
        
        // Modal functionality
        const loginModal = document.getElementById('login-modal');
        const registerModal = document.getElementById('register-modal');
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const closeBtns = document.querySelectorAll('.close-modal');
        const showRegisterLink = document.getElementById('show-register');
        const showLoginLink = document.getElementById('show-login');
        
        // Show modals
        loginBtn.addEventListener('click', () => {
            loginModal.style.display = 'flex';
        });
        
        registerBtn.addEventListener('click', () => {
            registerModal.style.display = 'flex';
        });
        
        // Close modals
        closeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                loginModal.style.display = 'none';
                registerModal.style.display = 'none';
            });
        });
        
        // Switch between modals
        showRegisterLink.addEventListener('click', (e) => {
            e.preventDefault();
            loginModal.style.display = 'none';
            registerModal.style.display = 'flex';
        });
        
        showLoginLink.addEventListener('click', (e) => {
            e.preventDefault();
            registerModal.style.display = 'none';
            loginModal.style.display = 'flex';
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.style.display = 'none';
            }
            if (e.target === registerModal) {
                registerModal.style.display = 'none';
            }
        });
        
        // Login form submission
        document.getElementById('login-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            try {
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // Store token
                    localStorage.setItem('authToken', data.token);
                    authToken = data.token;
                    
                    // Close modal
                    loginModal.style.display = 'none';
                    
                    // Update UI
                    updateAuthUI(data.user);
                    
                    // Show success message
                    alert('Вход выполнен успешно!');
                } else {
                    alert(`Ошибка: ${data.message}`);
                }
            } catch (error) {
                console.error('Login error:', error);
                alert('Произошла ошибка при входе. Пожалуйста, попробуйте снова.');
            }
        });
        
        // Register form submission
        document.getElementById('register-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const displayName = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const passwordConfirm = document.getElementById('register-password-confirm').value;
            
            // Validate passwords match
            if (password !== passwordConfirm) {
                alert('Пароли не совпадают');
                return;
            }
            
            try {
                const response = await fetch(`${API_URL}/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ displayName, email, password })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // Store token
                    localStorage.setItem('authToken', data.token);
                    authToken = data.token;
                    
                    // Close modal
                    registerModal.style.display = 'none';
                    
                    // Update UI
                    updateAuthUI(data.user);
                    
                    // Show success message
                    alert('Регистрация выполнена успешно!');
                } else {
                    alert(`Ошибка: ${data.message}`);
                }
            } catch (error) {
                console.error('Registration error:', error);
                alert('Произошла ошибка при регистрации. Пожалуйста, попробуйте снова.');
            }
        });
        
        // Contact form submission
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            
            // In a real application, you would send this data to your server
            console.log('Contact form submitted:', { name, email, message });
            
            // Show success message
            alert('Сообщение отправлено! Мы свяжемся с вами в ближайшее время.');
            
            // Reset form
            document.getElementById('contact-form').reset();
        });
        
        // Update UI based on authentication status
        function updateAuthUI(user) {
            const authButtons = document.querySelector('.auth-buttons');
            
            if (user) {
                // User is logged in
                const isDeveloper = user.isDeveloper || localStorage.getItem('isDeveloper') === 'true';
                
                authButtons.innerHTML = `
                    <div class="user-info">
                        <span>Привет, ${user.displayName}${isDeveloper ? ' <strong style="color:#ff5722;">[Разработчик]</strong>' : ''}</span>
                        <button id="logout-btn" class="btn btn-outline">Выйти</button>
                    </div>
                `;
                
                // Add logout functionality
                document.getElementById('logout-btn').addEventListener('click', () => {
                    localStorage.removeItem('authToken');
                    authToken = null;
                    updateAuthUI(null);
                    alert('Вы вышли из системы');
                });
            } else {
                // User is not logged in
                authButtons.innerHTML = `
                    <button id="login-btn" class="btn btn-outline">Войти</button>
                    <button id="register-btn" class="btn btn-primary">Регистрация</button>
                `;
                
                // Re-add event listeners
                document.getElementById('login-btn').addEventListener('click', () => {
                    loginModal.style.display = 'flex';
                });
                
                document.getElementById('register-btn').addEventListener('click', () => {
                    registerModal.style.display = 'flex';
                });
            }
        }
        
        // Check if user is already logged in
        async function checkAuth() {
            if (authToken) {
                try {
                    const response = await fetch(`${API_URL}/auth/profile`, {
                        headers: {
                            'Authorization': `Bearer ${authToken}`
                        }
                    });
                    
                    if (response.ok) {
                        const user = await response.json();
                        updateAuthUI(user);
                    } else {
                        // Token is invalid or expired
                        localStorage.removeItem('authToken');
                        authToken = null;
                    }
                } catch (error) {
                    console.error('Auth check error:', error);
                }
            }
        }
        
        // Check auth status on page load
        checkAuth();
        
        // Developer login functionality
        const devLoginModal = document.getElementById('dev-login-modal');
        const devLoginLink = document.getElementById('dev-login-link');
        
        // Show developer login modal when clicking the link
        devLoginLink.addEventListener('click', (e) => {
            e.preventDefault();
            devLoginModal.style.display = 'flex';
        });
        
        // Secret key combination to show developer login (Ctrl+Shift+D)
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key === 'D') {
                devLoginModal.style.display = 'flex';
                e.preventDefault();
            }
        });
        
        // Close developer modal
        devLoginModal.querySelector('.close-modal').addEventListener('click', () => {
            devLoginModal.style.display = 'none';
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === devLoginModal) {
                devLoginModal.style.display = 'none';
            }
        });
        
        // Developer login form submission
        document.getElementById('dev-login-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = document.getElementById('dev-login-email').value;
            const password = document.getElementById('dev-login-password').value;
            const devKey = document.getElementById('dev-key').value;
            
            try {
                const response = await fetch(`${API_URL}/auth/dev-login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password, devKey })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // Store token and developer flag
                    localStorage.setItem('authToken', data.token);
                    localStorage.setItem('isDeveloper', 'true');
                    authToken = data.token;
                    
                    // Close modal
                    devLoginModal.style.display = 'none';
                    
                    // Update UI with developer indicator
                    updateAuthUI(data.user);
                    
                    // Show success message
                    alert('Вход разработчика выполнен успешно!');
                } else {
                    alert(`Ошибка: ${data.message}`);
                }
            } catch (error) {
                console.error('Developer login error:', error);
                alert('Произошла ошибка при входе. Пожалуйста, попробуйте снова.');
            }
        });
    </script>
</body>
</html>
